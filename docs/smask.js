var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{Z:()=>y});const r={d:{test:e=>/\d/.test(e),transform:e=>e},a:{test:e=>/[a-z]/i.test(e),transform:e=>e.toLowerCase()},A:{test:e=>/[a-z]/i.test(e),transform:e=>e.toUpperCase()},w:{test:e=>/\w/.test(e),transform:e=>e.toLowerCase()},W:{test:e=>/\w/.test(e),transform:e=>e.toUpperCase()}},a=(e,t)=>e?(e=e.replace(/\W/gi,""),t?e.slice(0,t.replace(/\W/gi,"").length):e):e,n=(e,t)=>{if(!e||!t)return"";const n=[...a(e,t)],l=[...a(t)];for(let e=0,a=t.length;e<a&&n[e];e++)r[l[e]].test(n[e])?/\W/.test(t[e])?n.splice(e,0,t[e])&&l.splice(e,0,t[e]):n.splice(e,1,r[l[e]].transform(n[e])):n.splice(e,1);return n.join("")},l=(e,t)=>{let r=e.replace(/\D/g,"");return r&&"currency"===t&&(r/=100),r||0},s=(e,t)=>{const r=t.find((e=>"group"===e.type)).value,a=t.find((e=>"decimal"===e.type)).value;let n=e.replaceAll(r,"").replace(a,".");return Number.isNaN(n)?NaN:+n},o=(e,t,{...r}={},a)=>(r={...r,...u(a||"pt-BR")[t]},new Intl.NumberFormat(a,r).format(e)),c=new Map([["en-US","USD"],["pt-BR","BRL"],["fr-CA","CAD"]]),u=e=>({currency:{style:"currency",currency:c.get(e)},decimal:{},percent:{}}),p=(e,t="currency",{...r}={},a)=>o(parseFloat(e),t,r,a),m=(e,t)=>{const r=(e=>{const t="01/01/1970".replace(/\D/g,"");return(e=e.replace(/\D/g,""))+t.slice(e.length)})(e),a=n(r,t),l=i(a);return n(isNaN(l.valueOf())?e.slice(0,-1):e,t)},i=(e,t)=>{const r=(new Intl.DateTimeFormat).formatToParts(),a=e.split("/"),{month:n,day:l,year:s}={[r[0].type]:a[0],[r[2].type]:a[1],[r[4].type]:a[2]};return new Date(`${n}/${l}/${s}`)},d=(e,t)=>{if(!Array.isArray(t))throw ReferenceError("Pattern is not array");if(!t)throw ReferenceError("Missing second parameter pattern.");"string"==typeof e&&(e=document.querySelector(e));let r,[a,s]=t;switch(a){case"currency":r=()=>e.value=p(l(e.value,a),a);break;case"date":{const{mask:t,placeholder:a}=(()=>{const e=(new Intl.DateTimeFormat).formatToParts(new Date("1-1-1970"));let t="",r="";return e.forEach((({type:e,value:a})=>{new Map([["month",()=>(t+="dd")&&(r+="__")],["day",()=>(t+="dd")&&(r+="__")],["year",()=>(t+="dddd")&&(r+="____")],["literal",()=>(t+=a)&&(r+=a)]]).get(e)()})),{mask:t,placeholder:r}})();e.placeholder=a,r=()=>e.value=m(e.value,t);break}default:t.sort(((e,t)=>e.length-t.length)),e.minLength=a.length,e.maxLength=s?.length||e.minLength,e.pattern=`.{${a.length},${s?.length||a.length}}`,r=s?()=>e.value=n(e.value,e.value.length<=e.minLength?a:s):()=>e.value=n(e.value,a)}e.value&&r(),e.addEventListener("input",r)},y={mask:n,unmask:a,input:d,prepareMaskInputs:()=>{[...document.querySelectorAll("[data-mask]")].forEach((e=>{return d(e,(t=e.dataset.mask,JSON.parse(t.replace(/'/g,'"'))));var t}))},number:o,currency:p,date:i,unmaskNumber:l,reverseNumberFormat:(e,t)=>{const r=new Intl.NumberFormat(t).formatToParts(1111.1);return s(e,r)},reverseCurrencyFormat:(e,t,r)=>{const a=new Intl.NumberFormat(t,{style:"currency",currency:r}).formatToParts(1111.1),n=a.find((e=>"currency"===e.type)).value,l=e.replace(n,"");return s(l,a)}};var f=t.Z;export{f as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFzay93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zbWFzay93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vc21hc2svd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9zbWFzay8uL3NyYy90b2tlbnMuanMiLCJ3ZWJwYWNrOi8vc21hc2svLi9zcmMvdW5tYXNrLmpzIiwid2VicGFjazovL3NtYXNrLy4vc3JjL21hc2suanMiLCJ3ZWJwYWNrOi8vc21hc2svLi9zcmMvdW5tYXNrTnVtYmVyLmpzIiwid2VicGFjazovL3NtYXNrLy4vc3JjL251bWJlci5qcyIsIndlYnBhY2s6Ly9zbWFzay8uL3NyYy9jdXJyZW5jeS5qcyIsIndlYnBhY2s6Ly9zbWFzay8uL3NyYy9kYXRlLmpzIiwid2VicGFjazovL3NtYXNrLy4vc3JjL2lucHV0LmpzIiwid2VicGFjazovL3NtYXNrLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3NtYXNrLy4vc3JjL3ByZXBhcmVNYXNrSW5wdXRzLmpzIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwidG9rZW5zIiwiZCIsInRlc3QiLCJ2IiwidHJhbnNmb3JtIiwiYSIsInRvTG93ZXJDYXNlIiwiQSIsInRvVXBwZXJDYXNlIiwidyIsIlciLCJ1bm1hc2siLCJ2YWx1ZSIsInBhdHRlcm4iLCJyZXBsYWNlIiwic2xpY2UiLCJsZW5ndGgiLCJtYXNrIiwib3V0cHV0IiwidW5tYXNrZWQiLCJpIiwibCIsInNwbGljZSIsImpvaW4iLCJ1bm1hc2tOdW1iZXIiLCJyZXZlcnNlRm9ybWF0IiwicGFydHMiLCJncm91cCIsImZpbmQiLCJwYXJ0IiwidHlwZSIsImRlY2ltYWwiLCJyZXZlcnNlZFZhbCIsInJlcGxhY2VBbGwiLCJOdW1iZXIiLCJpc05hTiIsIk5hTiIsIm51bWJlciIsInN0eWxlIiwib3B0aW9ucyIsImxvY2FsZSIsImdldE9wdGlvbnMiLCJJbnRsIiwiTnVtYmVyRm9ybWF0IiwiZm9ybWF0IiwiY3VycmVuY3lUb0xvY2FsZSIsIk1hcCIsImN1cnJlbmN5IiwicGVyY2VudCIsInBhcnNlRmxvYXQiLCJtYXNrRGF0ZSIsImNvbXB1dGVkRGF0ZSIsImluaXRpYWxEYXRlIiwiZ2V0Q29tcHV0ZWREYXRlIiwiZGF0ZU1hc2tlZCIsImRhdGVPYmplY3QiLCJkYXRlIiwidmFsdWVPZiIsIkRhdGVUaW1lRm9ybWF0IiwiZm9ybWF0VG9QYXJ0cyIsInZhbHVlQXJyYXkiLCJzcGxpdCIsIm1vbnRoIiwiZGF5IiwieWVhciIsIkRhdGUiLCJpbnB1dCIsImVsZW1lbnQiLCJwYXR0ZXJucyIsIkFycmF5IiwiaXNBcnJheSIsIlJlZmVyZW5jZUVycm9yIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibGlzdGVuZXIiLCJkeW5hbWljUGF0dGVybiIsInBsYWNlaG9sZGVyIiwiZm9yRWFjaCIsImdldERhdGVQYXR0ZXJuIiwic29ydCIsImIiLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJhZGRFdmVudExpc3RlbmVyIiwicXVlcnlTZWxlY3RvckFsbCIsImVsIiwiZGF0YXNldCIsIkpTT04iLCJwYXJzZSIsInN5bWJvbCJdLCJtYXBwaW5ncyI6IkFBQ0EsSUFBSUEsRUFBc0IsQ0NBMUIsRUFBd0IsQ0FBQ0MsRUFBU0MsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYRixFQUFvQkksRUFBRUYsRUFBWUMsS0FBU0gsRUFBb0JJLEVBQUVILEVBQVNFLElBQzVFRSxPQUFPQyxlQUFlTCxFQUFTRSxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsTUNKM0UsRUFBd0IsQ0FBQ00s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QU9jLElLUkssc0JMa0JFLENBQUNkLEVBQU80QixFQUFRTyxLQUNuRCxNQUFNckIsRUFBUSxJQUFJZ0IsS0FBS0MsYUFBYUgsRUFBUSxDQUFDRixNQUFPLFdBQVlTLGFBQVdZLGNBQWMsUUFDbkY4QixFQUFTL0QsRUFBTUUsTUFBS0MsR0FBc0IsYUFBZEEsRUFBS0MsT0FBcUJsQixNQUN0RG9CLEVBQWNwQixFQUFNRSxRQUFRMkUsRUFBUSxJQUMxQyxPQUFPaEUsRUFBY08sRUFBYU4sSyIsImZpbGUiOiJzbWFzay5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiZXhwb3J0IGNvbnN0IHRva2VucyA9IHtcbiAgZDoge3Rlc3Q6IHYgPT4gL1xcZC8udGVzdCh2KSwgdHJhbnNmb3JtOiB2ID0+IHZ9LFxuICBhOiB7dGVzdDogdiA9PiAvW2Etel0vaS50ZXN0KHYpLCB0cmFuc2Zvcm06IHYgPT4gdi50b0xvd2VyQ2FzZSgpfSxcbiAgQToge3Rlc3Q6IHYgPT4gL1thLXpdL2kudGVzdCh2KSwgdHJhbnNmb3JtOiB2ID0+IHYudG9VcHBlckNhc2UoKX0sXG4gIHc6IHt0ZXN0OiB2ID0+IC9cXHcvLnRlc3QodiksIHRyYW5zZm9ybTogdiA9PiB2LnRvTG93ZXJDYXNlKCl9LFxuICBXOiB7dGVzdDogdiA9PiAvXFx3Ly50ZXN0KHYpLCB0cmFuc2Zvcm06IHYgPT4gdi50b1VwcGVyQ2FzZSgpfVxufVxuIiwiLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbcGF0dGVybj1cIlwiXVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IHVubWFzayA9ICh2YWx1ZSwgcGF0dGVybikgPT4ge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gdmFsdWVcbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXFcvaWcsIFwiXCIpXG4gIHJldHVybiBwYXR0ZXJuID8gdmFsdWUuc2xpY2UoMCwgcGF0dGVybi5yZXBsYWNlKC9cXFcvaWcsIFwiXCIpLmxlbmd0aCkgOiB2YWx1ZVxufVxuIiwiaW1wb3J0IHt0b2tlbnN9IGZyb20gXCIuL3Rva2Vucy5qc1wiXG5pbXBvcnQge3VubWFza30gZnJvbSBcIi4vdW5tYXNrLmpzXCI7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0dGVyblxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IG1hc2sgPSAodmFsdWUsIHBhdHRlcm4pID0+IHtcbiAgaWYgKCF2YWx1ZSB8fCAhcGF0dGVybikgcmV0dXJuIFwiXCJcbiAgY29uc3Qgb3V0cHV0ID0gWy4uLnVubWFzayh2YWx1ZSwgcGF0dGVybildLCB1bm1hc2tlZCA9IFsuLi51bm1hc2socGF0dGVybildXG4gIGZvciAobGV0IGkgPSAwLCBsID0gcGF0dGVybi5sZW5ndGg7IGkgPCBsICYmIG91dHB1dFtpXTsgaSsrKVxuICAgICF0b2tlbnNbdW5tYXNrZWRbaV1dLnRlc3Qob3V0cHV0W2ldKVxuICAgICAgPyBvdXRwdXQuc3BsaWNlKGksIDEpXG4gICAgICA6IC9cXFcvLnRlc3QocGF0dGVybltpXSlcbiAgICAgID8gb3V0cHV0LnNwbGljZShpLCAwLCBwYXR0ZXJuW2ldKSAmJiB1bm1hc2tlZC5zcGxpY2UoaSwgMCwgcGF0dGVybltpXSlcbiAgICAgIDogb3V0cHV0LnNwbGljZShpLCAxLCB0b2tlbnNbdW5tYXNrZWRbaV1dLnRyYW5zZm9ybShvdXRwdXRbaV0pKVxuICByZXR1cm4gb3V0cHV0LmpvaW4oXCJcIilcbn1cbiIsIi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gW3BhdHRlcm49dW5kZWZpbmVkXVxuICogQHJldHVybnMge3N0cmluZ3xpbnR9XG4gKi9cbmV4cG9ydCBjb25zdCB1bm1hc2tOdW1iZXIgPSAodmFsdWUsIHBhdHRlcm4pID0+IHtcbiAgbGV0IG91dHB1dCA9IHZhbHVlLnJlcGxhY2UoL1xcRC9nLCBcIlwiKVxuICBpZiAob3V0cHV0ICYmIFwiY3VycmVuY3lcIiA9PT0gcGF0dGVybikgb3V0cHV0ID0gb3V0cHV0IC8gMTAwXG4gIHJldHVybiBvdXRwdXQgfHwgMFxufVxuXG4vKipcbiAqIFJldmVyc2UgTnVtYmVyIEZvcm1hdFxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxlXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgcmV2ZXJzZU51bWJlckZvcm1hdCA9ICh2YWx1ZSwgbG9jYWxlKSA9PiB7XG4gIGNvbnN0IHBhcnRzID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KGxvY2FsZSkuZm9ybWF0VG9QYXJ0cygxMTExLjEpXG4gIHJldHVybiByZXZlcnNlRm9ybWF0KHZhbHVlLCBwYXJ0cylcbn1cblxuLyoqXG4gKiBSZXZlcnNlIEN1cnJlbmN5IEZvcm1hdFxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxlXG4gKiBAcGFyYW0ge3N0cmluZ30gY3VycmVuY3lcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCByZXZlcnNlQ3VycmVuY3lGb3JtYXQgPSAodmFsdWUsIGxvY2FsZSwgY3VycmVuY3kpID0+IHtcbiAgY29uc3QgcGFydHMgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQobG9jYWxlLCB7c3R5bGU6IFwiY3VycmVuY3lcIiwgY3VycmVuY3l9KS5mb3JtYXRUb1BhcnRzKDExMTEuMSlcbiAgY29uc3Qgc3ltYm9sID0gcGFydHMuZmluZChwYXJ0ID0+IHBhcnQudHlwZSA9PT0gJ2N1cnJlbmN5JykudmFsdWVcbiAgY29uc3QgcmV2ZXJzZWRWYWwgPSB2YWx1ZS5yZXBsYWNlKHN5bWJvbCwgJycpXG4gIHJldHVybiByZXZlcnNlRm9ybWF0KHJldmVyc2VkVmFsLCBwYXJ0cylcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7YXJyYXl9IHBhcnRzXG4gKiBAcmV0dXJucyB7bnVtYmVyfG51bWJlcn1cbiAqL1xuY29uc3QgcmV2ZXJzZUZvcm1hdCA9ICh2YWx1ZSwgcGFydHMpID0+IHtcbiAgY29uc3QgZ3JvdXAgPSBwYXJ0cy5maW5kKHBhcnQgPT4gcGFydC50eXBlID09PSAnZ3JvdXAnKS52YWx1ZVxuICBjb25zdCBkZWNpbWFsID0gcGFydHMuZmluZChwYXJ0ID0+IHBhcnQudHlwZSA9PT0gJ2RlY2ltYWwnKS52YWx1ZVxuICBsZXQgcmV2ZXJzZWRWYWwgPSB2YWx1ZVxuICAgIC5yZXBsYWNlQWxsKGdyb3VwLCAnJylcbiAgICAucmVwbGFjZShkZWNpbWFsLCAnLicpXG4gIHJldHVybiBOdW1iZXIuaXNOYU4ocmV2ZXJzZWRWYWwpXG4gICAgPyBOYU5cbiAgICA6ICtyZXZlcnNlZFZhbFxufVxuIiwiLyoqXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlXVxuICogQHBhcmFtIHtzdHJpbmd9IFtsb2NhbGVdXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgbnVtYmVyID0gKFxuICB2YWx1ZSxcbiAgc3R5bGUsXG4gIHsuLi5vcHRpb25zfSA9IHt9LFxuICBsb2NhbGVcbikgPT4ge1xuICBvcHRpb25zID0gey4uLm9wdGlvbnMsIC4uLmdldE9wdGlvbnMobG9jYWxlIHx8IFwicHQtQlJcIilbc3R5bGVdfTtcbiAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdChsb2NhbGUsIG9wdGlvbnMpLmZvcm1hdCh2YWx1ZSlcbn1cblxuLyogVG8gYmUgdXBkYXRlZCBiYXNlZCBvbiBuZWVkIC0gRnJlbmNoIC0gQ2FuYWRhIGFuZCBVUyBsb2NhbGUgaGFuZGxlZCAgKi9cbmNvbnN0IGN1cnJlbmN5VG9Mb2NhbGUgPSBuZXcgTWFwKFtcbiAgW1wiZW4tVVNcIiwgXCJVU0RcIl0sXG4gIFtcInB0LUJSXCIsIFwiQlJMXCJdLFxuICBbXCJmci1DQVwiLCBcIkNBRFwiXVxuXSlcblxuY29uc3QgZ2V0T3B0aW9ucyA9IGxvY2FsZSA9PiAoe1xuICBjdXJyZW5jeToge1xuICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgY3VycmVuY3k6IGN1cnJlbmN5VG9Mb2NhbGUuZ2V0KGxvY2FsZSlcbiAgfSxcbiAgZGVjaW1hbDoge30sXG4gIHBlcmNlbnQ6IHt9XG59KVxuIiwiaW1wb3J0IHtudW1iZXJ9IGZyb20gXCIuL251bWJlci5qc1wiO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfGludH0gdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGU9XCJjdXJyZW5jeVwiXVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtzdHJpbmd9IFtsb2NhbGVdXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgY3VycmVuY3kgPSAoXG4gIHZhbHVlLFxuICBzdHlsZSA9IFwiY3VycmVuY3lcIixcbiAgey4uLm9wdGlvbnN9ID0ge30sXG4gIGxvY2FsZSxcbikgPT4ge1xuICByZXR1cm4gbnVtYmVyKHBhcnNlRmxvYXQodmFsdWUpLCBzdHlsZSwgb3B0aW9ucywgbG9jYWxlKVxufVxuIiwiaW1wb3J0IHttYXNrfSBmcm9tIFwiLi9tYXNrLmpzXCJcblxuY29uc3QgZ2V0Q29tcHV0ZWREYXRlID0gKHZhbHVlKSA9PiB7XG4gIGNvbnN0IGluaXRpYWxEYXRlID0gXCIwMS8wMS8xOTcwXCIucmVwbGFjZSgvXFxEL2csIFwiXCIpXG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxEL2csIFwiXCIpXG4gIHJldHVybiB2YWx1ZSArIGluaXRpYWxEYXRlLnNsaWNlKHZhbHVlLmxlbmd0aClcbn1cblxuZXhwb3J0IGNvbnN0IG1hc2tEYXRlID0gKHZhbHVlLCBwYXR0ZXJuKSA9PiB7XG4gIGNvbnN0IGNvbXB1dGVkRGF0ZSA9IGdldENvbXB1dGVkRGF0ZSh2YWx1ZSlcbiAgY29uc3QgZGF0ZU1hc2tlZCA9IG1hc2soY29tcHV0ZWREYXRlLCBwYXR0ZXJuKVxuICBjb25zdCBkYXRlT2JqZWN0ID0gZGF0ZShkYXRlTWFza2VkKVxuICByZXR1cm4gbWFzayhpc05hTihkYXRlT2JqZWN0LnZhbHVlT2YoKSkgPyB2YWx1ZS5zbGljZSgwLCAtMSkgOiB2YWx1ZSwgcGF0dGVybilcbn1cblxuLyoqXG4gKiBHZXQgTWFzayBEYXRlIEludGxcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cbmV4cG9ydCBjb25zdCBnZXREYXRlUGF0dGVybiA9ICgpID0+IHtcbiAgY29uc3QgcGFydHMgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCgpLmZvcm1hdFRvUGFydHMobmV3IERhdGUoXCIxLTEtMTk3MFwiKSlcbiAgbGV0IG1hc2sgPSBcIlwiLCBwbGFjZWhvbGRlciA9IFwiXCJcbiAgcGFydHMuZm9yRWFjaCgoe3R5cGUsIHZhbHVlfSkgPT4ge1xuICAgIG5ldyBNYXAoW1xuICAgICAgW1wibW9udGhcIiwgKCkgPT4gKG1hc2sgKz0gXCJkZFwiKSAmJiAocGxhY2Vob2xkZXIgKz0gXCJfX1wiKV0sXG4gICAgICBbXCJkYXlcIiwgKCkgPT4gKG1hc2sgKz0gXCJkZFwiKSAmJiAocGxhY2Vob2xkZXIgKz0gXCJfX1wiKV0sXG4gICAgICBbXCJ5ZWFyXCIsICgpID0+IChtYXNrICs9IFwiZGRkZFwiKSAmJiAocGxhY2Vob2xkZXIgKz0gXCJfX19fXCIpXSxcbiAgICAgIFtcImxpdGVyYWxcIiwgKCkgPT4gKG1hc2sgKz0gdmFsdWUpICYmIChwbGFjZWhvbGRlciArPSB2YWx1ZSldXG4gICAgXSkuZ2V0KHR5cGUpKClcbiAgfSlcbiAgcmV0dXJuIHttYXNrLCBwbGFjZWhvbGRlcn1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbG9jYWxlPXVuZGVmaW5lZF1cbiAqIEByZXR1cm5zIHtEYXRlfVxuICovXG5leHBvcnQgY29uc3QgZGF0ZSA9ICh2YWx1ZSwgbG9jYWxlID0gdW5kZWZpbmVkKSA9PiB7XG4gIGNvbnN0IHBhcnRzID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5mb3JtYXRUb1BhcnRzKCksXG4gICAgdmFsdWVBcnJheSA9IHZhbHVlLnNwbGl0KFwiL1wiKSxcbiAgICB7bW9udGgsIGRheSwgeWVhcn0gPSB7XG4gICAgICBbcGFydHNbMF0udHlwZV06IHZhbHVlQXJyYXlbMF0sXG4gICAgICBbcGFydHNbMl0udHlwZV06IHZhbHVlQXJyYXlbMV0sXG4gICAgICBbcGFydHNbNF0udHlwZV06IHZhbHVlQXJyYXlbMl1cbiAgICB9LFxuICAgIGRhdGVGb3JtYXQgPSBgJHttb250aH0vJHtkYXl9LyR7eWVhcn1gXG4gIHJldHVybiBuZXcgRGF0ZShkYXRlRm9ybWF0KVxufVxuIiwiaW1wb3J0IHttYXNrfSBmcm9tIFwiLi9tYXNrLmpzXCI7XG5pbXBvcnQge3VubWFza051bWJlcn0gZnJvbSBcIi4vdW5tYXNrTnVtYmVyLmpzXCJcbmltcG9ydCB7Y3VycmVuY3l9IGZyb20gXCIuL2N1cnJlbmN5LmpzXCI7XG5pbXBvcnQge2dldERhdGVQYXR0ZXJuLCBtYXNrRGF0ZX0gZnJvbSBcIi4vZGF0ZS5qc1wiO1xuXG4vKipcbiAqIG1hc2tJbnB1dFxuICogQHBhcmFtIHtzdHJpbmd8SFRNTElucHV0RWxlbWVudH0gZWxlbWVudCBFbGVtZW50IFNlbGVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gcGF0dGVybnMgZGVjaW1hbHxjdXJyZW5jeVxuICovXG5leHBvcnQgY29uc3QgaW5wdXQgPSAoZWxlbWVudCwgcGF0dGVybnMpID0+IHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHBhdHRlcm5zKSkgdGhyb3cgUmVmZXJlbmNlRXJyb3IoXCJQYXR0ZXJuIGlzIG5vdCBhcnJheVwiKVxuICBpZiAoIXBhdHRlcm5zKSB0aHJvdyBSZWZlcmVuY2VFcnJvcihcIk1pc3Npbmcgc2Vjb25kIHBhcmFtZXRlciBwYXR0ZXJuLlwiKVxuXG4gIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gXCJzdHJpbmdcIikgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudClcbiAgbGV0IFtwYXR0ZXJuLCBkeW5hbWljUGF0dGVybl0gPSBwYXR0ZXJuc1xuICBsZXQgbGlzdGVuZXJcblxuICBzd2l0Y2ggKHBhdHRlcm4pIHtcbiAgICBjYXNlIFwiY3VycmVuY3lcIjoge1xuICAgICAgbGlzdGVuZXIgPSAoKSA9PiBlbGVtZW50LnZhbHVlID0gY3VycmVuY3kodW5tYXNrTnVtYmVyKGVsZW1lbnQudmFsdWUsIHBhdHRlcm4pLCBwYXR0ZXJuKVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgY2FzZSBcImRhdGVcIjoge1xuICAgICAgY29uc3Qge21hc2ssIHBsYWNlaG9sZGVyfSA9IGdldERhdGVQYXR0ZXJuKClcbiAgICAgIGVsZW1lbnQucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlclxuICAgICAgbGlzdGVuZXIgPSAoKSA9PiBlbGVtZW50LnZhbHVlID0gbWFza0RhdGUoZWxlbWVudC52YWx1ZSwgbWFzaylcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHBhdHRlcm5zLnNvcnQoKGEsIGIpID0+IGEubGVuZ3RoIC0gYi5sZW5ndGgpXG4gICAgICBlbGVtZW50Lm1pbkxlbmd0aCA9IHBhdHRlcm4ubGVuZ3RoXG4gICAgICBlbGVtZW50Lm1heExlbmd0aCA9IGR5bmFtaWNQYXR0ZXJuPy5sZW5ndGggfHwgZWxlbWVudC5taW5MZW5ndGhcbiAgICAgIGVsZW1lbnQucGF0dGVybiA9IGAueyR7cGF0dGVybi5sZW5ndGh9LCR7ZHluYW1pY1BhdHRlcm4/Lmxlbmd0aCB8fCBwYXR0ZXJuLmxlbmd0aH19YFxuXG4gICAgICBsaXN0ZW5lciA9IGR5bmFtaWNQYXR0ZXJuXG4gICAgICAgID8gKCkgPT4gZWxlbWVudC52YWx1ZSA9IG1hc2soXG4gICAgICAgICAgZWxlbWVudC52YWx1ZSxcbiAgICAgICAgICBlbGVtZW50LnZhbHVlLmxlbmd0aCA8PSBlbGVtZW50Lm1pbkxlbmd0aCA/IHBhdHRlcm4gOiBkeW5hbWljUGF0dGVyblxuICAgICAgICApXG4gICAgICAgIDogKCkgPT4gZWxlbWVudC52YWx1ZSA9IG1hc2soZWxlbWVudC52YWx1ZSwgcGF0dGVybilcbiAgICB9XG4gIH1cbiAgZWxlbWVudC52YWx1ZSAmJiBsaXN0ZW5lcigpXG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGxpc3RlbmVyKVxufVxuIiwiaW1wb3J0IHttYXNrfSBmcm9tIFwiLi9tYXNrLmpzXCJcbmltcG9ydCB7dW5tYXNrfSBmcm9tIFwiLi91bm1hc2suanNcIlxuaW1wb3J0IHtpbnB1dH0gZnJvbSBcIi4vaW5wdXQuanNcIlxuaW1wb3J0IHtwcmVwYXJlTWFza0lucHV0c30gZnJvbSBcIi4vcHJlcGFyZU1hc2tJbnB1dHMuanNcIlxuaW1wb3J0IHt1bm1hc2tOdW1iZXIsIHJldmVyc2VOdW1iZXJGb3JtYXQsIHJldmVyc2VDdXJyZW5jeUZvcm1hdH0gZnJvbSBcIi4vdW5tYXNrTnVtYmVyLmpzXCJcbmltcG9ydCB7ZGF0ZX0gZnJvbSBcIi4vZGF0ZS5qc1wiXG5pbXBvcnQge251bWJlcn0gZnJvbSBcIi4vbnVtYmVyLmpzXCJcbmltcG9ydCB7Y3VycmVuY3l9IGZyb20gXCIuL2N1cnJlbmN5LmpzXCJcblxuZXhwb3J0IGRlZmF1bHQge1xuICBtYXNrLCB1bm1hc2ssIGlucHV0LCBwcmVwYXJlTWFza0lucHV0cywgbnVtYmVyLCBjdXJyZW5jeSwgZGF0ZSxcbiAgdW5tYXNrTnVtYmVyLCByZXZlcnNlTnVtYmVyRm9ybWF0LCByZXZlcnNlQ3VycmVuY3lGb3JtYXRcbn1cbiIsImltcG9ydCB7aW5wdXR9IGZyb20gXCIuL2lucHV0LmpzXCI7XG5cbi8qKlxuICogTWFzayBhbGwgaW5wdXRzIHdoYXQgaGF2ZSBkYXRhLWluZGV4IGF0dHJpYnV0ZVxuICovXG5leHBvcnQgY29uc3QgcHJlcGFyZU1hc2tJbnB1dHMgPSAoKSA9PiB7XG4gIGNvbnN0IGRhdGFzZXRUb09iamVjdCA9IHZhbHVlID0+IEpTT04ucGFyc2UodmFsdWUucmVwbGFjZSgvJy9nLCBcIlxcXCJcIikpO1xuICBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLW1hc2tdXCIpXVxuICAgIC5mb3JFYWNoKGVsID0+IGlucHV0KGVsLCBkYXRhc2V0VG9PYmplY3QoZWwuZGF0YXNldC5tYXNrKSkpXG59XG4iXSwic291cmNlUm9vdCI6IiJ9