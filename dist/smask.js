var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{Z:()=>y});const r={d:{test:e=>/\d/.test(e),transform:e=>e},a:{test:e=>/[a-z]/i.test(e),transform:e=>e.toLowerCase()},A:{test:e=>/[a-z]/i.test(e),transform:e=>e.toUpperCase()},w:{test:e=>/\w/.test(e),transform:e=>e.toLowerCase()},W:{test:e=>/\w/.test(e),transform:e=>e.toUpperCase()}},a=(e,t)=>e?(e=e.replace(/\W/gi,""),t?e.slice(0,t.replace(/\W/gi,"").length):e):e,n=(e,t)=>{if(!e||!t)return"";const n=[...a(e,t)],l=[...a(t)];for(let e=0,a=t.length;e<a&&n[e];e++)r[l[e]].test(n[e])?/\W/.test(t[e])?n.splice(e,0,t[e])&&l.splice(e,0,t[e]):n.splice(e,1,r[l[e]].transform(n[e])):n.splice(e,1);return n.join("")},l=(e,t)=>{let r=e.replace(/\D/g,"");return r&&"currency"===t&&(r/=100),r||0},o=(e,t)=>{const r=t.find((e=>"group"===e.type)).value,a=t.find((e=>"decimal"===e.type)).value;let n=e.replaceAll(r,"").replace(a,".");return Number.isNaN(n)?NaN:+n},s=(e,t,{...r}={},a)=>(r={...r,...u(a||"pt-BR")[t]},new Intl.NumberFormat(a,r).format(e)),c=new Map([["en-US","USD"],["pt-BR","BRL"],["fr-CA","CAD"]]),u=e=>({currency:{style:"currency",currency:c.get(e)},decimal:{},percent:{}}),p=(e,t="currency",{...r}={},a)=>s(parseFloat(e),t,r,a),m=e=>new Intl.DateTimeFormat(e).formatToParts(),i="01/01/1970".replace(/\D/g,""),g=(e,t)=>{const r=e.split("/"),{month:a,day:n,year:l}={[m(t)[0].type]:r[0],[m(t)[2].type]:r[1],[m(t)[4].type]:r[2]};return new Date(`${a}/${n}/${l}`)},h=new Map,d=(e,t)=>{if(!Array.isArray(t))throw ReferenceError("Pattern is not an array");if(!t)throw ReferenceError("Missing second parameter pattern.");const r="object"==typeof e?e:document.querySelector(e);if(!r)throw Error("Element not found.");h.set(r,{}),t.length>1&&t.sort(((e,t)=>e.length-t.length));let[a,o]=t,s=()=>{};switch(console.log(o),a){case"currency":s=()=>r.value=p(l(r.value,a),a);break;case"date":{const e=(e=>{let t="";return m(void 0).forEach((({type:e,value:r})=>{"month"===e||"day"===e?t+="dd":"year"===e?t+="dddd":"literal"===e&&(t+=r)})),t})();r.minLength=r.maxLength=r.minlength=r.maxlength=e.length,r.pattern=`.{${e.length},${e.length}}`,s=()=>{r.value=((e,t,r)=>{const a=g(((e,t)=>n(e,t))((l=(l=e.value).replace(/\D/g,""))+i.slice(l.length),t),r);var l;return n(isNaN(a.valueOf())?h.get(e).oldValue:e.value,t)})(r,e),((e,t={})=>{h.set(e,{...h.get(e),...t})})(r,{oldValue:r.value})};break}default:r.minLength=r.minlength=a.length,r.maxLength=r.maxlength=o?.length||a.length,r.pattern=`.{${a.length},${o?.length||a.length}}`,s=o?()=>{console.log({el:r,value:r.value}),r.value=n(r.value,r.value.length<=a.length?a:o)}:()=>r.value=n(r.value,a)}r.value&&s(),r.addEventListener("input",s)},y={mask:n,unmask:a,input:d,prepareMaskInputs:()=>{[...document.querySelectorAll("[data-mask]")].forEach((e=>{return d(e,(t=e.dataset.mask,JSON.parse(t.replace(/'/g,'"'))));var t}))},number:s,currency:p,date:g,unmaskNumber:l,reverseNumberFormat:(e,t)=>{const r=new Intl.NumberFormat(t).formatToParts(1111.1);return o(e,r)},reverseCurrencyFormat:(e,t,r)=>{const a=new Intl.NumberFormat(t,{style:"currency",currency:r}).formatToParts(1111.1),n=a.find((e=>"currency"===e.type)).value,l=e.replace(n,"");return o(l,a)}};var f=t.Z;export{f as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zbWFzay93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zbWFzay93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vc21hc2svd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9zbWFzay8uL3NyYy90b2tlbnMuanMiLCJ3ZWJwYWNrOi8vc21hc2svLi9zcmMvdW5tYXNrLmpzIiwid2VicGFjazovL3NtYXNrLy4vc3JjL21hc2suanMiLCJ3ZWJwYWNrOi8vc21hc2svLi9zcmMvdW5tYXNrTnVtYmVyLmpzIiwid2VicGFjazovL3NtYXNrLy4vc3JjL251bWJlci5qcyIsIndlYnBhY2s6Ly9zbWFzay8uL3NyYy9jdXJyZW5jeS5qcyIsIndlYnBhY2s6Ly9zbWFzay8uL3NyYy9kYXRlLmpzIiwid2VicGFjazovL3NtYXNrLy4vc3JjL2lucHV0LmpzIiwid2VicGFjazovL3NtYXNrLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3NtYXNrLy4vc3JjL3ByZXBhcmVNYXNrSW5wdXRzLmpzIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwidG9rZW5zIiwiZCIsInRlc3QiLCJ2IiwidHJhbnNmb3JtIiwiYSIsInRvTG93ZXJDYXNlIiwiQSIsInRvVXBwZXJDYXNlIiwidyIsIlciLCJ1bm1hc2siLCJ2YWx1ZSIsInBhdHRlcm4iLCJyZXBsYWNlIiwic2xpY2UiLCJsZW5ndGgiLCJtYXNrIiwib3V0cHV0IiwidW5tYXNrZWQiLCJpIiwibCIsInNwbGljZSIsImpvaW4iLCJ1bm1hc2tOdW1iZXIiLCJyZXZlcnNlRm9ybWF0IiwicGFydHMiLCJncm91cCIsImZpbmQiLCJwYXJ0IiwidHlwZSIsImRlY2ltYWwiLCJyZXZlcnNlZFZhbCIsInJlcGxhY2VBbGwiLCJOdW1iZXIiLCJpc05hTiIsIk5hTiIsIm51bWJlciIsInN0eWxlIiwib3B0aW9ucyIsImxvY2FsZSIsImdldE9wdGlvbnMiLCJJbnRsIiwiTnVtYmVyRm9ybWF0IiwiZm9ybWF0IiwiY3VycmVuY3lUb0xvY2FsZSIsIk1hcCIsImN1cnJlbmN5IiwicGVyY2VudCIsInBhcnNlRmxvYXQiLCJkYXRlUGFydHMiLCJEYXRlVGltZUZvcm1hdCIsImZvcm1hdFRvUGFydHMiLCJpbml0aWFsRGF0ZSIsImRhdGUiLCJ2YWx1ZUFycmF5Iiwic3BsaXQiLCJtb250aCIsImRheSIsInllYXIiLCJEYXRlIiwiaW5wdXQiLCJlbGVtZW50IiwicGF0dGVybnMiLCJBcnJheSIsImlzQXJyYXkiLCJSZWZlcmVuY2VFcnJvciIsImVsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiRXJyb3IiLCJzZXQiLCJzb3J0IiwiYiIsImR5bmFtaWNQYXR0ZXJuIiwibGlzdGVuZXIiLCJjb25zb2xlIiwibG9nIiwiZ2V0RGF0ZVBhdHRlcm4iLCJmb3JFYWNoIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwibWlubGVuZ3RoIiwibWF4bGVuZ3RoIiwiZGF0ZU9iamVjdCIsImdldE1hc2tlZERhdGUiLCJ2YWx1ZU9mIiwib2xkVmFsdWUiLCJtYXNrRGF0ZSIsInNldEVsZW1lbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByZXBhcmVNYXNrSW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsImRhdGFzZXQiLCJKU09OIiwicGFyc2UiLCJyZXZlcnNlTnVtYmVyRm9ybWF0IiwicmV2ZXJzZUN1cnJlbmN5Rm9ybWF0Iiwic3ltYm9sIl0sIm1hcHBpbmdzIjoiQUFDQSxJQUFJQSxFQUFzQixDQ0ExQixFQUF3QixDQUFDQyxFQUFTQyxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hGLEVBQW9CSSxF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LEVBQUd2RCxNQUFPQyxHQUd6Q3NELEVBQUd2RCxPQUFTK0QsSUFDWlIsRUFBR3VCLGlCQUFpQixRQUFTZixJQ3hEL0IsR0FDRTFELEtBQUksRUFDSk4sT0FBTSxFQUNOa0QsTUFBSyxFQUNMOEIsa0JDWitCLEtBQy9CLElBQUl2QixTQUFTd0IsaUJBQWlCLGdCQUFnQmIsU0FBU1osSUFDckROLFNBQU1NLEdBSWV2RCxFQUpLdUQsRUFBRzBCLFFBQVE1RSxLQUlONkUsS0FBS0MsTUFBTW5GLEVBQU1FLFFBQVEsS0FBTSxRQUExQyxJQUFDRixNRE92QnlCLE9BQU0sRUFDTlUsU0FBUSxFQUNSTyxLQUFJLEVBQ0o5QixhQUFZLEVBQ1p3RSxvQkxMaUMsQ0FBQ3BGLEVBQU80QixLQUN6QyxNQUFNZCxFQUFRLElBQUlnQixLQUFLQyxhQUFhSCxHQUFRWSxjQUFjLFFBQzFELE9BQU8zQixFQUFjYixFQUFPYyxJS0k1QnVFLHNCTE1tQyxDQUFDckYsRUFBTzRCLEVBQVFPLEtBQ25ELE1BQU1yQixFQUFRLElBQUlnQixLQUFLQyxhQUFhSCxFQUFRLENBQzFDRixNQUFPLFdBQ1BTLGFBQ0NLLGNBQWMsUUFDWDhDLEVBQVN4RSxFQUFNRSxNQUFNQyxHQUF1QixhQUFkQSxFQUFLQyxPQUFxQmxCLE1BQ3hEb0IsRUFBY3BCLEVBQU1FLFFBQVFvRixFQUFRLElBQzFDLE9BQU96RSxFQUFjTyxFQUFhTixLIiwiZmlsZSI6InNtYXNrLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJleHBvcnQgY29uc3QgdG9rZW5zID0ge1xuICBkOiB7IHRlc3Q6ICh2KSA9PiAvXFxkLy50ZXN0KHYpLCB0cmFuc2Zvcm06ICh2KSA9PiB2IH0sXG4gIGE6IHsgdGVzdDogKHYpID0+IC9bYS16XS9pLnRlc3QodiksIHRyYW5zZm9ybTogKHYpID0+IHYudG9Mb3dlckNhc2UoKSB9LFxuICBBOiB7IHRlc3Q6ICh2KSA9PiAvW2Etel0vaS50ZXN0KHYpLCB0cmFuc2Zvcm06ICh2KSA9PiB2LnRvVXBwZXJDYXNlKCkgfSxcbiAgdzogeyB0ZXN0OiAodikgPT4gL1xcdy8udGVzdCh2KSwgdHJhbnNmb3JtOiAodikgPT4gdi50b0xvd2VyQ2FzZSgpIH0sXG4gIFc6IHsgdGVzdDogKHYpID0+IC9cXHcvLnRlc3QodiksIHRyYW5zZm9ybTogKHYpID0+IHYudG9VcHBlckNhc2UoKSB9LFxufTtcbiIsIi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gW3BhdHRlcm49XCJcIl1cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCB1bm1hc2sgPSAodmFsdWUsIHBhdHRlcm4pID0+IHtcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIHZhbHVlO1xuICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcVy9naSwgXCJcIik7XG4gIHJldHVybiBwYXR0ZXJuID8gdmFsdWUuc2xpY2UoMCwgcGF0dGVybi5yZXBsYWNlKC9cXFcvZ2ksIFwiXCIpLmxlbmd0aCkgOiB2YWx1ZTtcbn07XG4iLCJpbXBvcnQgeyB0b2tlbnMgfSBmcm9tIFwiLi90b2tlbnMuanNcIjtcbmltcG9ydCB7IHVubWFzayB9IGZyb20gXCIuL3VubWFzay5qc1wiO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtzdHJpbmd9IHBhdHRlcm5cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBtYXNrID0gKHZhbHVlLCBwYXR0ZXJuKSA9PiB7XG4gIGlmICghdmFsdWUgfHwgIXBhdHRlcm4pIHJldHVybiBcIlwiO1xuICBjb25zdCBvdXRwdXQgPSBbLi4udW5tYXNrKHZhbHVlLCBwYXR0ZXJuKV0sXG4gICAgdW5tYXNrZWQgPSBbLi4udW5tYXNrKHBhdHRlcm4pXTtcbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBwYXR0ZXJuLmxlbmd0aDsgaSA8IGwgJiYgb3V0cHV0W2ldOyBpKyspXG4gICAgIXRva2Vuc1t1bm1hc2tlZFtpXV0udGVzdChvdXRwdXRbaV0pXG4gICAgICA/IG91dHB1dC5zcGxpY2UoaSwgMSlcbiAgICAgIDogL1xcVy8udGVzdChwYXR0ZXJuW2ldKVxuICAgICAgPyBvdXRwdXQuc3BsaWNlKGksIDAsIHBhdHRlcm5baV0pICYmIHVubWFza2VkLnNwbGljZShpLCAwLCBwYXR0ZXJuW2ldKVxuICAgICAgOiBvdXRwdXQuc3BsaWNlKGksIDEsIHRva2Vuc1t1bm1hc2tlZFtpXV0udHJhbnNmb3JtKG91dHB1dFtpXSkpO1xuICByZXR1cm4gb3V0cHV0LmpvaW4oXCJcIik7XG59O1xuIiwiLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbcGF0dGVybj11bmRlZmluZWRdXG4gKiBAcmV0dXJucyB7c3RyaW5nfGludH1cbiAqL1xuZXhwb3J0IGNvbnN0IHVubWFza051bWJlciA9ICh2YWx1ZSwgcGF0dGVybikgPT4ge1xuICBsZXQgb3V0cHV0ID0gdmFsdWUucmVwbGFjZSgvXFxEL2csIFwiXCIpO1xuICBpZiAob3V0cHV0ICYmIFwiY3VycmVuY3lcIiA9PT0gcGF0dGVybikgb3V0cHV0ID0gb3V0cHV0IC8gMTAwO1xuICByZXR1cm4gb3V0cHV0IHx8IDA7XG59O1xuXG4vKipcbiAqIFJldmVyc2UgTnVtYmVyIEZvcm1hdFxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxlXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgcmV2ZXJzZU51bWJlckZvcm1hdCA9ICh2YWx1ZSwgbG9jYWxlKSA9PiB7XG4gIGNvbnN0IHBhcnRzID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KGxvY2FsZSkuZm9ybWF0VG9QYXJ0cygxMTExLjEpO1xuICByZXR1cm4gcmV2ZXJzZUZvcm1hdCh2YWx1ZSwgcGFydHMpO1xufTtcblxuLyoqXG4gKiBSZXZlcnNlIEN1cnJlbmN5IEZvcm1hdFxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxlXG4gKiBAcGFyYW0ge3N0cmluZ30gY3VycmVuY3lcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCByZXZlcnNlQ3VycmVuY3lGb3JtYXQgPSAodmFsdWUsIGxvY2FsZSwgY3VycmVuY3kpID0+IHtcbiAgY29uc3QgcGFydHMgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQobG9jYWxlLCB7XG4gICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICBjdXJyZW5jeSxcbiAgfSkuZm9ybWF0VG9QYXJ0cygxMTExLjEpO1xuICBjb25zdCBzeW1ib2wgPSBwYXJ0cy5maW5kKChwYXJ0KSA9PiBwYXJ0LnR5cGUgPT09IFwiY3VycmVuY3lcIikudmFsdWU7XG4gIGNvbnN0IHJldmVyc2VkVmFsID0gdmFsdWUucmVwbGFjZShzeW1ib2wsIFwiXCIpO1xuICByZXR1cm4gcmV2ZXJzZUZvcm1hdChyZXZlcnNlZFZhbCwgcGFydHMpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7YXJyYXl9IHBhcnRzXG4gKiBAcmV0dXJucyB7bnVtYmVyfG51bWJlcn1cbiAqL1xuY29uc3QgcmV2ZXJzZUZvcm1hdCA9ICh2YWx1ZSwgcGFydHMpID0+IHtcbiAgY29uc3QgZ3JvdXAgPSBwYXJ0cy5maW5kKChwYXJ0KSA9PiBwYXJ0LnR5cGUgPT09IFwiZ3JvdXBcIikudmFsdWU7XG4gIGNvbnN0IGRlY2ltYWwgPSBwYXJ0cy5maW5kKChwYXJ0KSA9PiBwYXJ0LnR5cGUgPT09IFwiZGVjaW1hbFwiKS52YWx1ZTtcbiAgbGV0IHJldmVyc2VkVmFsID0gdmFsdWUucmVwbGFjZUFsbChncm91cCwgXCJcIikucmVwbGFjZShkZWNpbWFsLCBcIi5cIik7XG4gIHJldHVybiBOdW1iZXIuaXNOYU4ocmV2ZXJzZWRWYWwpID8gTmFOIDogK3JldmVyc2VkVmFsO1xufTtcbiIsIi8qKlxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZV1cbiAqIEBwYXJhbSB7c3RyaW5nfSBbbG9jYWxlXVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IG51bWJlciA9ICh2YWx1ZSwgc3R5bGUsIHsgLi4ub3B0aW9ucyB9ID0ge30sIGxvY2FsZSkgPT4ge1xuICBvcHRpb25zID0geyAuLi5vcHRpb25zLCAuLi5nZXRPcHRpb25zKGxvY2FsZSB8fCBcInB0LUJSXCIpW3N0eWxlXSB9O1xuICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KGxvY2FsZSwgb3B0aW9ucykuZm9ybWF0KHZhbHVlKTtcbn07XG5cbi8qIFRvIGJlIHVwZGF0ZWQgYmFzZWQgb24gbmVlZCAtIEZyZW5jaCAtIENhbmFkYSBhbmQgVVMgbG9jYWxlIGhhbmRsZWQgICovXG5jb25zdCBjdXJyZW5jeVRvTG9jYWxlID0gbmV3IE1hcChbXG4gIFtcImVuLVVTXCIsIFwiVVNEXCJdLFxuICBbXCJwdC1CUlwiLCBcIkJSTFwiXSxcbiAgW1wiZnItQ0FcIiwgXCJDQURcIl0sXG5dKTtcblxuY29uc3QgZ2V0T3B0aW9ucyA9IChsb2NhbGUpID0+ICh7XG4gIGN1cnJlbmN5OiB7XG4gICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICBjdXJyZW5jeTogY3VycmVuY3lUb0xvY2FsZS5nZXQobG9jYWxlKSxcbiAgfSxcbiAgZGVjaW1hbDoge30sXG4gIHBlcmNlbnQ6IHt9LFxufSk7XG4iLCJpbXBvcnQgeyBudW1iZXIgfSBmcm9tIFwiLi9udW1iZXIuanNcIjtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ3xpbnR9IHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlPVwiY3VycmVuY3lcIl1cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7c3RyaW5nfSBbbG9jYWxlXVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IGN1cnJlbmN5ID0gKFxuICB2YWx1ZSxcbiAgc3R5bGUgPSBcImN1cnJlbmN5XCIsXG4gIHsgLi4ub3B0aW9ucyB9ID0ge30sXG4gIGxvY2FsZVxuKSA9PiB7XG4gIHJldHVybiBudW1iZXIocGFyc2VGbG9hdCh2YWx1ZSksIHN0eWxlLCBvcHRpb25zLCBsb2NhbGUpO1xufTtcbiIsImltcG9ydCB7IG1hc2sgfSBmcm9tIFwiLi9tYXNrLmpzXCI7XG5pbXBvcnQgeyBlbGVtZW50cyB9IGZyb20gXCIuL2lucHV0LmpzXCI7XG5cbmNvbnN0IGRhdGVQYXJ0cyA9IChsb2NhbGUpID0+IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGxvY2FsZSkuZm9ybWF0VG9QYXJ0cygpO1xuY29uc3QgaW5pdGlhbERhdGUgPSBcIjAxLzAxLzE5NzBcIi5yZXBsYWNlKC9cXEQvZywgXCJcIik7XG5jb25zdCBnZXRNYXNrZWREYXRlID0gKHZhbHVlLCBwYXR0ZXJuKSA9PiBtYXNrKHZhbHVlLCBwYXR0ZXJuKTtcbmNvbnN0IGdldENvbXB1dGVkRGF0ZSA9ICh2YWx1ZSkgPT4ge1xuICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcbiAgcmV0dXJuIHZhbHVlICsgaW5pdGlhbERhdGUuc2xpY2UodmFsdWUubGVuZ3RoKTtcbn07XG5cbi8qKlxuICogR2V0IERhdGUgTWFza2VkXG4gKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXR0ZXJuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2xvY2FsZT11bmRlZmluZWRdXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgbWFza0RhdGUgPSAoZWxlbWVudCwgcGF0dGVybiwgbG9jYWxlID0gdW5kZWZpbmVkKSA9PiB7XG4gIGNvbnN0IGRhdGVPYmplY3QgPSBkYXRlKFxuICAgIGdldE1hc2tlZERhdGUoZ2V0Q29tcHV0ZWREYXRlKGVsZW1lbnQudmFsdWUpLCBwYXR0ZXJuKSxcbiAgICBsb2NhbGVcbiAgKTtcbiAgcmV0dXJuIG1hc2soXG4gICAgaXNOYU4oZGF0ZU9iamVjdC52YWx1ZU9mKCkpXG4gICAgICA/IGVsZW1lbnRzLmdldChlbGVtZW50KS5vbGRWYWx1ZVxuICAgICAgOiBlbGVtZW50LnZhbHVlLFxuICAgIHBhdHRlcm5cbiAgKTtcbn07XG5cbi8qKlxuICogR2V0IERhdGUgUGF0dGVyblxuICogQHBhcmFtIHtzdHJpbmd9IFtsb2NhbGU9dW5kZWZpbmVkXVxuICogQHJldHVybnMge29iamVjdH1cbiAqL1xuZXhwb3J0IGNvbnN0IGdldERhdGVQYXR0ZXJuID0gKGxvY2FsZSA9IHVuZGVmaW5lZCkgPT4ge1xuICBsZXQgcGF0dGVybiA9IFwiXCI7XG4gIGRhdGVQYXJ0cyhsb2NhbGUpLmZvckVhY2goKHsgdHlwZSwgdmFsdWUgfSkgPT4ge1xuICAgIGlmICh0eXBlID09PSBcIm1vbnRoXCIgfHwgdHlwZSA9PT0gXCJkYXlcIikgcGF0dGVybiArPSBcImRkXCI7XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gXCJ5ZWFyXCIpIHBhdHRlcm4gKz0gXCJkZGRkXCI7XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gXCJsaXRlcmFsXCIpIHBhdHRlcm4gKz0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcGF0dGVybjtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gW2xvY2FsZT11bmRlZmluZWRdXG4gKiBAcmV0dXJucyB7RGF0ZX1cbiAqL1xuZXhwb3J0IGNvbnN0IGRhdGUgPSAodmFsdWUsIGxvY2FsZSA9IHVuZGVmaW5lZCkgPT4ge1xuICBjb25zdCB2YWx1ZUFycmF5ID0gdmFsdWUuc3BsaXQoXCIvXCIpO1xuICBjb25zdCB7IG1vbnRoLCBkYXksIHllYXIgfSA9IHtcbiAgICBbZGF0ZVBhcnRzKGxvY2FsZSlbMF0udHlwZV06IHZhbHVlQXJyYXlbMF0sXG4gICAgW2RhdGVQYXJ0cyhsb2NhbGUpWzJdLnR5cGVdOiB2YWx1ZUFycmF5WzFdLFxuICAgIFtkYXRlUGFydHMobG9jYWxlKVs0XS50eXBlXTogdmFsdWVBcnJheVsyXSxcbiAgfTtcbiAgY29uc3QgZGF0ZUZvcm1hdCA9IGAke21vbnRofS8ke2RheX0vJHt5ZWFyfWA7XG4gIHJldHVybiBuZXcgRGF0ZShkYXRlRm9ybWF0KTtcbn07XG4iLCJpbXBvcnQgeyBtYXNrIH0gZnJvbSBcIi4vbWFzay5qc1wiO1xuaW1wb3J0IHsgdW5tYXNrTnVtYmVyIH0gZnJvbSBcIi4vdW5tYXNrTnVtYmVyLmpzXCI7XG5pbXBvcnQgeyBjdXJyZW5jeSB9IGZyb20gXCIuL2N1cnJlbmN5LmpzXCI7XG5pbXBvcnQgeyBnZXREYXRlUGF0dGVybiwgbWFza0RhdGUgfSBmcm9tIFwiLi9kYXRlLmpzXCI7XG5cbmV4cG9ydCBjb25zdCBlbGVtZW50cyA9IG5ldyBNYXAoKTtcbmNvbnN0IHNldEVsZW1lbnRzID0gKGVsZW1lbnQsIG9wdGlvbnMgPSB7fSkgPT5cbiAgZWxlbWVudHMuc2V0KGVsZW1lbnQsIHtcbiAgICAuLi5lbGVtZW50cy5nZXQoZWxlbWVudCksXG4gICAgLi4ub3B0aW9ucyxcbiAgfSk7XG5cbi8qKlxuICogbWFza0lucHV0XG4gKiBAcGFyYW0ge3N0cmluZ3xIVE1MSW5wdXRFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgU2VsZWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBwYXR0ZXJucyBkZWNpbWFsfGN1cnJlbmN5XG4gKi9cbmV4cG9ydCBjb25zdCBpbnB1dCA9IChlbGVtZW50LCBwYXR0ZXJucykgPT4ge1xuICBpZiAoIUFycmF5LmlzQXJyYXkocGF0dGVybnMpKSB0aHJvdyBSZWZlcmVuY2VFcnJvcihcIlBhdHRlcm4gaXMgbm90IGFuIGFycmF5XCIpO1xuICBpZiAoIXBhdHRlcm5zKSB0aHJvdyBSZWZlcmVuY2VFcnJvcihcIk1pc3Npbmcgc2Vjb25kIHBhcmFtZXRlciBwYXR0ZXJuLlwiKTtcblxuICBjb25zdCBlbCA9XG4gICAgdHlwZW9mIGVsZW1lbnQgPT09IFwib2JqZWN0XCIgPyBlbGVtZW50IDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KTtcbiAgaWYgKCFlbCkgdGhyb3cgRXJyb3IoXCJFbGVtZW50IG5vdCBmb3VuZC5cIik7XG4gIGVsZW1lbnRzLnNldChlbCwge30pO1xuICBpZiAocGF0dGVybnMubGVuZ3RoID4gMSkgcGF0dGVybnMuc29ydCgoYSwgYikgPT4gYS5sZW5ndGggLSBiLmxlbmd0aCk7XG4gIGxldCBbcGF0dGVybiwgZHluYW1pY1BhdHRlcm5dID0gcGF0dGVybnM7XG4gIGxldCBsaXN0ZW5lciA9ICgpID0+IHt9O1xuICBjb25zb2xlLmxvZyhkeW5hbWljUGF0dGVybik7XG5cbiAgLy8gSW5pdGlhbGl6ZSBpbnB1dCBsaXN0ZW5lciBieSBtYXNrXG4gIHN3aXRjaCAocGF0dGVybikge1xuICAgIGNhc2UgXCJjdXJyZW5jeVwiOiB7XG4gICAgICBsaXN0ZW5lciA9ICgpID0+XG4gICAgICAgIChlbC52YWx1ZSA9IGN1cnJlbmN5KHVubWFza051bWJlcihlbC52YWx1ZSwgcGF0dGVybiksIHBhdHRlcm4pKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFwiZGF0ZVwiOiB7XG4gICAgICBjb25zdCBwYXR0ZXJuID0gZ2V0RGF0ZVBhdHRlcm4oKTtcbiAgICAgIGVsLm1pbkxlbmd0aCA9XG4gICAgICAgIGVsLm1heExlbmd0aCA9XG4gICAgICAgIGVsLm1pbmxlbmd0aCA9XG4gICAgICAgIGVsLm1heGxlbmd0aCA9XG4gICAgICAgICAgcGF0dGVybi5sZW5ndGg7XG4gICAgICBlbC5wYXR0ZXJuID0gYC57JHtwYXR0ZXJuLmxlbmd0aH0sJHtwYXR0ZXJuLmxlbmd0aH19YDtcbiAgICAgIGxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICBlbC52YWx1ZSA9IG1hc2tEYXRlKGVsLCBwYXR0ZXJuKTtcbiAgICAgICAgc2V0RWxlbWVudHMoZWwsIHsgb2xkVmFsdWU6IGVsLnZhbHVlIH0pO1xuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICBlbC5taW5MZW5ndGggPSBlbC5taW5sZW5ndGggPSBwYXR0ZXJuLmxlbmd0aDtcbiAgICAgIGVsLm1heExlbmd0aCA9IGVsLm1heGxlbmd0aCA9IGR5bmFtaWNQYXR0ZXJuPy5sZW5ndGggfHwgcGF0dGVybi5sZW5ndGg7XG4gICAgICBlbC5wYXR0ZXJuID0gYC57JHtwYXR0ZXJuLmxlbmd0aH0sJHtcbiAgICAgICAgZHluYW1pY1BhdHRlcm4/Lmxlbmd0aCB8fCBwYXR0ZXJuLmxlbmd0aFxuICAgICAgfX1gO1xuICAgICAgbGlzdGVuZXIgPSBkeW5hbWljUGF0dGVyblxuICAgICAgICA/ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHsgZWwsIHZhbHVlOiBlbC52YWx1ZSB9KTtcbiAgICAgICAgICAgIGVsLnZhbHVlID0gbWFzayhcbiAgICAgICAgICAgICAgZWwudmFsdWUsXG4gICAgICAgICAgICAgIGVsLnZhbHVlLmxlbmd0aCA8PSBwYXR0ZXJuLmxlbmd0aCA/IHBhdHRlcm4gOiBkeW5hbWljUGF0dGVyblxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIDogKCkgPT4gKGVsLnZhbHVlID0gbWFzayhlbC52YWx1ZSwgcGF0dGVybikpO1xuICAgIH1cbiAgfVxuICBlbC52YWx1ZSAmJiBsaXN0ZW5lcigpO1xuICBlbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgbGlzdGVuZXIpO1xufTtcbiIsImltcG9ydCB7IG1hc2sgfSBmcm9tIFwiLi9tYXNrLmpzXCI7XG5pbXBvcnQgeyB1bm1hc2sgfSBmcm9tIFwiLi91bm1hc2suanNcIjtcbmltcG9ydCB7IGlucHV0IH0gZnJvbSBcIi4vaW5wdXQuanNcIjtcbmltcG9ydCB7IHByZXBhcmVNYXNrSW5wdXRzIH0gZnJvbSBcIi4vcHJlcGFyZU1hc2tJbnB1dHMuanNcIjtcbmltcG9ydCB7XG4gIHVubWFza051bWJlcixcbiAgcmV2ZXJzZU51bWJlckZvcm1hdCxcbiAgcmV2ZXJzZUN1cnJlbmN5Rm9ybWF0LFxufSBmcm9tIFwiLi91bm1hc2tOdW1iZXIuanNcIjtcbmltcG9ydCB7IGRhdGUgfSBmcm9tIFwiLi9kYXRlLmpzXCI7XG5pbXBvcnQgeyBudW1iZXIgfSBmcm9tIFwiLi9udW1iZXIuanNcIjtcbmltcG9ydCB7IGN1cnJlbmN5IH0gZnJvbSBcIi4vY3VycmVuY3kuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBtYXNrLFxuICB1bm1hc2ssXG4gIGlucHV0LFxuICBwcmVwYXJlTWFza0lucHV0cyxcbiAgbnVtYmVyLFxuICBjdXJyZW5jeSxcbiAgZGF0ZSxcbiAgdW5tYXNrTnVtYmVyLFxuICByZXZlcnNlTnVtYmVyRm9ybWF0LFxuICByZXZlcnNlQ3VycmVuY3lGb3JtYXQsXG59O1xuXG4vLyBpbXBvcnQubWV0YS53ZWJwYWNrSG90LmFjY2VwdCgpO1xuIiwiaW1wb3J0IHsgaW5wdXQgfSBmcm9tIFwiLi9pbnB1dC5qc1wiO1xuXG4vKipcbiAqIE1hc2sgYWxsIGlucHV0cyB3aGF0IGhhdmUgZGF0YS1pbmRleCBhdHRyaWJ1dGVcbiAqL1xuZXhwb3J0IGNvbnN0IHByZXBhcmVNYXNrSW5wdXRzID0gKCkgPT4ge1xuICBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLW1hc2tdXCIpXS5mb3JFYWNoKChlbCkgPT5cbiAgICBpbnB1dChlbCwgZGF0YXNldFRvT2JqZWN0KGVsLmRhdGFzZXQubWFzaykpXG4gICk7XG59O1xuXG5jb25zdCBkYXRhc2V0VG9PYmplY3QgPSAodmFsdWUpID0+IEpTT04ucGFyc2UodmFsdWUucmVwbGFjZSgvJy9nLCAnXCInKSk7XG4iXSwic291cmNlUm9vdCI6IiJ9