(()=>{"use strict";const e=(e,t)=>e?(e=e.replace(/\W/gi,""),t?e.slice(0,t.replace(/\W/gi,"").length):e):"",t=(e,t="pt-br",{style:r="decimal",...n}={})=>void 0===e||""===e?"":new Intl.NumberFormat(t,{style:r,...n}).format(parseFloat(e)),r=(e,t)=>{if(!e||!t)return e;let r=e.replace(/\D/g,"");if("currency"===t&&r>0){let t=parseFloat(e.replace(/\D/g,""));return t=[...t.toString()],1===t.length&&t.unshift("0"),t.splice(-2,0,"."),t.join("")}return r};document.querySelectorAll("[data-mask]").forEach((n=>((n,a)=>{switch(a){case"decimal":{const e=(e,n)=>e.value=t(r(e.value,n));n.value&&e(n,a),n.addEventListener("input",(()=>e(n,a)));break}case"currency":{const e=(e,n)=>e.value=((e,r,n={style:"currency",currency:"BRL"})=>t(e,void 0,n))(r(e.value,n));n.value&&e(n,a),n.addEventListener("input",(t=>e(n,a)));break}default:{if(!(a=a||n.dataset.mask))throw ReferenceError("Missing second parameter pattern.");n.minLength=a.length,n.maxLength=a.length,n.pattern=`.{${a.length},${a.length}}`;const t=(t,r)=>t.value=((t,r)=>{if(!t)return"";if(!r)throw new ReferenceError("");const n=[...e(r)],a=[...e(t,r)];for(let e=0;e<r.length&&a[e];e++)"d"===n[e]&&/\D/.test(a[e])||"a"===n[e]&&!/[a-z]/i.test(a[e])||"w"===n[e]&&/\W/i.test(a[e])?a.splice(e,1):/\W/g.test(r[e])&&a.splice(e,0,r[e])&&n.splice(e,0,r[e]);return a.join("")})(t.value,r);n.value&&t(n,a),n.addEventListener("input",(()=>t(n,a)))}}})(n,n.dataset.mask)))})();