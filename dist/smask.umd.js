(function(c,u){typeof exports=="object"&&typeof module!="undefined"?module.exports=u():typeof define=="function"&&define.amd?define(u):(c=typeof globalThis!="undefined"?globalThis:c||self,c.smask=u())})(this,function(){"use strict";const c=(t,e=navigator.language,r="decimal",n)=>(n={style:r,...n},new Intl.NumberFormat(e,n).format(t)),u={AD:"EUR",AE:"AED",AF:"AFN",AG:"XCD",AI:"XCD",AL:"ALL",AM:"AMD",AO:"AOA",AR:"ARS",AS:"USD",AT:"EUR",AU:"AUD",AW:"AWG",AX:"EUR",AZ:"AZN",BA:"BAM",BB:"BBD",BD:"BDT",BE:"EUR",BF:"XOF",BG:"BGN",BH:"BHD",BI:"BIF",BJ:"XOF",BL:"EUR",BM:"BMD",BN:"BND",BO:"BOB",BQ:"USD",BR:"BRL",BS:"BSD",BT:"BTN",BV:"NOK",BW:"BWP",BY:"BYN",BZ:"BZD",CA:"CAD",CC:"AUD",CD:"CDF",CF:"XAF",CG:"XAF",CH:"CHF",CI:"XOF",CK:"NZD",CL:"CLP",CM:"XAF",CN:"CNY",CO:"COP",CR:"CRC",CU:"CUP",CV:"CVE",CW:"ANG",CX:"AUD",CY:"EUR",CZ:"CZK",DE:"EUR",DJ:"DJF",DK:"DKK",DM:"XCD",DO:"DOP",DZ:"DZD",EC:"USD",EE:"EUR",EG:"EGP",EH:"MAD",ER:"ERN",ES:"EUR",ET:"ETB",FI:"EUR",FJ:"FJD",FK:"FKP",FM:"USD",FO:"DKK",FR:"EUR",GA:"XAF",GB:"GBP",GD:"XCD",GE:"GEL",GF:"EUR",GG:"GBP",GH:"GHS",GI:"GIP",GL:"DKK",GM:"GMD",GN:"GNF",GP:"EUR",GQ:"XAF",GR:"EUR",GS:"GBP",GT:"GTQ",GU:"USD",GW:"XOF",GY:"GYD",HK:"HKD",HM:"AUD",HN:"HNL",HR:"HRK",HT:"HTG",HU:"HUF",ID:"IDR",IE:"EUR",IL:"ILS",IM:"GBP",IN:"INR",IO:"USD",IQ:"IQD",IR:"IRR",IS:"ISK",IT:"EUR",JE:"GBP",JM:"JMD",JO:"JOD",JP:"JPY",KE:"KES",KG:"KGS",KH:"KHR",KI:"AUD",KM:"KMF",KN:"XCD",KP:"KPW",KR:"KRW",KW:"KWD",KY:"KYD",KZ:"KZT",LA:"LAK",LB:"LBP",LC:"XCD",LI:"CHF",LK:"LKR",LR:"LRD",LS:"LSL",LT:"EUR",LU:"EUR",LV:"EUR",LY:"LYD",MA:"MAD",MC:"EUR",MD:"MDL",ME:"EUR",MF:"EUR",MG:"MGA",MH:"USD",MK:"MKD",ML:"XOF",MM:"MMK",MN:"MNT",MO:"MOP",MP:"USD",MQ:"EUR",MR:"MRO",MS:"XCD",MT:"EUR",MU:"MUR",MV:"MVR",MW:"MWK",MX:"MXN",MY:"MYR",MZ:"MZN",NA:"NAD",NC:"XPF",NE:"XOF",NF:"AUD",NG:"NGN",NI:"NIO",NL:"EUR",NO:"NOK",NP:"NPR",NR:"AUD",NU:"NZD",NZ:"NZD",OM:"OMR",PA:"PAB",PE:"PEN",PF:"XPF",PG:"PGK",PH:"PHP",PK:"PKR",PL:"PLN",PM:"EUR",PN:"NZD",PR:"USD",PS:"ILS",PT:"EUR",PW:"USD",PY:"PYG",QA:"QAR",RE:"EUR",RO:"RON",RS:"RSD",RU:"RUB",RW:"RWF",SA:"SAR",SB:"SBD",SC:"SCR",SD:"SDG",SE:"SEK",SG:"SGD",SH:"SHP",SI:"EUR",SJ:"NOK",SK:"EUR",SL:"SLL",SM:"EUR",SN:"XOF",SO:"SOS",SR:"SRD",ST:"STD",SV:"SVC",SX:"ANG",SY:"SYP",SZ:"SZL",TC:"USD",TD:"XAF",TF:"EUR",TG:"XOF",TH:"THB",TJ:"TJS",TK:"NZD",TL:"USD",TM:"TMT",TN:"TND",TO:"TOP",TR:"TRY",TT:"TTD",TV:"AUD",TW:"TWD",TZ:"TZS",UA:"UAH",UG:"UGX",UM:"USD",US:"USD",UY:"UYU",UZ:"UZS",VA:"EUR",VC:"XCD",VE:"VEF",VG:"USD",VI:"USD",VN:"VND",VU:"VUV",WF:"XPF",WS:"WST",YE:"YER",YT:"EUR",ZA:"ZAR",ZM:"ZMW",ZW:"ZWL"},i=(t,e=navigator.language,r=u[e.slice(-2)])=>c(t,e,"currency",{currency:r}),g={d:{test:t=>/\d/.test(t),transform:t=>t},a:{test:t=>/[a-z]/i.test(t),transform:t=>t.toLowerCase()},A:{test:t=>/[a-z]/i.test(t),transform:t=>t.toUpperCase()},w:{test:t=>/\w/.test(t),transform:t=>t.toLowerCase()},W:{test:t=>/\w/.test(t),transform:t=>t.toUpperCase()}},R=(t,e)=>t&&(t=t.replace(/\W/gi,""),e?t.slice(0,e.replace(/\W/gi,"").length):t),U=(t,e)=>{if(!t)return"";if(!e)throw ReferenceError("Value or pattern not found.");if(!Array.isArray(e))throw ReferenceError("Pattern should be an array");const[r,n]=e.sort((o,D)=>o.length-D.length),a=R(t).length<=R(r).length?r:n;let s="";for(let o=R(t,a),D=R(a),A=a.length,N=0,E=0;N<A&&o[E];N++){const B=g[D[E]],F=a[N],L=o[E];if(B.test(L))/\W/.test(F)?s+=F:(s+=B.transform(L),E++);else break}return s},M=t=>{const e=t.replace(/\D/g,"");let r=0;return r=parseFloat(e)/100,r},K=(t,e)=>{const r=new Intl.NumberFormat(e).formatToParts(1111.1);return P(t,r)},p=(t,e=navigator.language,r=u[e.slice(-2)])=>{var D;const n=new Intl.NumberFormat(e,{style:"currency",currency:r}).formatToParts(1111.1),a=(D=n.find(A=>A.type==="currency"))==null?void 0:D.value,s=a?t.replace(a,""):t;return P(s,n)},P=(t,e)=>{var a,s;const r=(a=e.find(o=>o.type==="group"))==null?void 0:a.value,n=(s=e.find(o=>o.type==="decimal"))==null?void 0:s.value;return r&&(t=t.replaceAll(r,"")),n&&(t=t.replace(n,".")),Number.isNaN(t)?NaN:parseFloat(t)},S=new Map,d=(t,e={})=>S.set(t,{...S.get(t),...e}),l=(t,e)=>{if(!t||typeof t!="object")throw Error("Element not found.");if(!e||!Array.isArray(e))throw ReferenceError("Pattern should be an array");const[r,n]=e.sort((s,o)=>s.length-o.length);S.set(t,{});let a;switch(r){case"currency":{t.placeholder=i(0),a=()=>{const s=M(t.value);t.value=s===0||isNaN(s)?"":i(s)};break}case"date":{const s=T();t.minLength=t.maxLength=s.length,t.pattern=`.{${s.length},${s.length}}`,d(t,{oldValue:t.value}),a=()=>{t.value=C(t,s),d(t,{oldValue:t.value})};break}default:t.minLength=r.length,t.maxLength=(n==null?void 0:n.length)||r.length,t.pattern=`.{${r.length},${(n==null?void 0:n.length)||r.length}}`,a=()=>{t.value=U(t.value,e)}}return t.value&&a(),t.addEventListener("input",a),()=>{t.removeEventListener("input",a)}},h="01/01/1970".replace(/\D/g,""),G=t=>new Intl.DateTimeFormat(t).formatToParts(),O=t=>{const e=t.replace(/\D/g,"");return e+h.slice(e.length)},I=t=>t instanceof Date&&!isNaN(t.valueOf()),C=(t,e,r=navigator.language)=>{const n=O(t.value),a=U(n,[e]),s=f(a,r),o=I(s)?t.value:S.get(t).oldValue;return U(o,[e])},T=t=>{let e="";return G(t).forEach(({type:n,value:a})=>{n==="month"||n==="day"?e+="dd":n==="year"?e+="dddd":n==="literal"&&(e+=a)}),e},f=(t,e)=>{const r=t.split("/"),n=G(e),{month:a,day:s,year:o}={[n[0].type]:r[0],[n[2].type]:r[1],[n[4].type]:r[2]},D=`${a}/${s}/${o}`;return new Date(D)},m=()=>{document.querySelectorAll("[data-mask]").forEach(e=>l(e,X(e.dataset.mask)))},X=t=>JSON.parse(t.replace(/'/g,'"'));var Z={mask:U,input:l,number:c,currency:i,getDatePattern:T,maskDate:C,toDate:f,prepareMaskInputs:m,unmask:R,currencyUnformat:p,numberUnformat:K,unmaskNumber:M};return Z});
