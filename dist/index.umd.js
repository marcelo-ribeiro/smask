(function(n,u){typeof exports=="object"&&typeof module!="undefined"?u(exports):typeof define=="function"&&define.amd?define(["exports"],u):(n=typeof globalThis!="undefined"?globalThis:n||self,u(n.smask={}))})(this,function(n){"use strict";const u=(t,e=navigator.language,r="decimal",a)=>(a={style:r,...a},new Intl.NumberFormat(e,a).format(t)),m={AD:"EUR",AE:"AED",AF:"AFN",AG:"XCD",AI:"XCD",AL:"ALL",AM:"AMD",AO:"AOA",AR:"ARS",AS:"USD",AT:"EUR",AU:"AUD",AW:"AWG",AX:"EUR",AZ:"AZN",BA:"BAM",BB:"BBD",BD:"BDT",BE:"EUR",BF:"XOF",BG:"BGN",BH:"BHD",BI:"BIF",BJ:"XOF",BL:"EUR",BM:"BMD",BN:"BND",BO:"BOB",BQ:"USD",BR:"BRL",BS:"BSD",BT:"BTN",BV:"NOK",BW:"BWP",BY:"BYN",BZ:"BZD",CA:"CAD",CC:"AUD",CD:"CDF",CF:"XAF",CG:"XAF",CH:"CHF",CI:"XOF",CK:"NZD",CL:"CLP",CM:"XAF",CN:"CNY",CO:"COP",CR:"CRC",CU:"CUP",CV:"CVE",CW:"ANG",CX:"AUD",CY:"EUR",CZ:"CZK",DE:"EUR",DJ:"DJF",DK:"DKK",DM:"XCD",DO:"DOP",DZ:"DZD",EC:"USD",EE:"EUR",EG:"EGP",EH:"MAD",ER:"ERN",ES:"EUR",ET:"ETB",FI:"EUR",FJ:"FJD",FK:"FKP",FM:"USD",FO:"DKK",FR:"EUR",GA:"XAF",GB:"GBP",GD:"XCD",GE:"GEL",GF:"EUR",GG:"GBP",GH:"GHS",GI:"GIP",GL:"DKK",GM:"GMD",GN:"GNF",GP:"EUR",GQ:"XAF",GR:"EUR",GS:"GBP",GT:"GTQ",GU:"USD",GW:"XOF",GY:"GYD",HK:"HKD",HM:"AUD",HN:"HNL",HR:"HRK",HT:"HTG",HU:"HUF",ID:"IDR",IE:"EUR",IL:"ILS",IM:"GBP",IN:"INR",IO:"USD",IQ:"IQD",IR:"IRR",IS:"ISK",IT:"EUR",JE:"GBP",JM:"JMD",JO:"JOD",JP:"JPY",KE:"KES",KG:"KGS",KH:"KHR",KI:"AUD",KM:"KMF",KN:"XCD",KP:"KPW",KR:"KRW",KW:"KWD",KY:"KYD",KZ:"KZT",LA:"LAK",LB:"LBP",LC:"XCD",LI:"CHF",LK:"LKR",LR:"LRD",LS:"LSL",LT:"EUR",LU:"EUR",LV:"EUR",LY:"LYD",MA:"MAD",MC:"EUR",MD:"MDL",ME:"EUR",MF:"EUR",MG:"MGA",MH:"USD",MK:"MKD",ML:"XOF",MM:"MMK",MN:"MNT",MO:"MOP",MP:"USD",MQ:"EUR",MR:"MRO",MS:"XCD",MT:"EUR",MU:"MUR",MV:"MVR",MW:"MWK",MX:"MXN",MY:"MYR",MZ:"MZN",NA:"NAD",NC:"XPF",NE:"XOF",NF:"AUD",NG:"NGN",NI:"NIO",NL:"EUR",NO:"NOK",NP:"NPR",NR:"AUD",NU:"NZD",NZ:"NZD",OM:"OMR",PA:"PAB",PE:"PEN",PF:"XPF",PG:"PGK",PH:"PHP",PK:"PKR",PL:"PLN",PM:"EUR",PN:"NZD",PR:"USD",PS:"ILS",PT:"EUR",PW:"USD",PY:"PYG",QA:"QAR",RE:"EUR",RO:"RON",RS:"RSD",RU:"RUB",RW:"RWF",SA:"SAR",SB:"SBD",SC:"SCR",SD:"SDG",SE:"SEK",SG:"SGD",SH:"SHP",SI:"EUR",SJ:"NOK",SK:"EUR",SL:"SLL",SM:"EUR",SN:"XOF",SO:"SOS",SR:"SRD",ST:"STD",SV:"SVC",SX:"ANG",SY:"SYP",SZ:"SZL",TC:"USD",TD:"XAF",TF:"EUR",TG:"XOF",TH:"THB",TJ:"TJS",TK:"NZD",TL:"USD",TM:"TMT",TN:"TND",TO:"TOP",TR:"TRY",TT:"TTD",TV:"AUD",TW:"TWD",TZ:"TZS",UA:"UAH",UG:"UGX",UM:"USD",US:"USD",UY:"UYU",UZ:"UZS",VA:"EUR",VC:"XCD",VE:"VEF",VG:"USD",VI:"USD",VN:"VND",VU:"VUV",WF:"XPF",WS:"WST",YE:"YER",YT:"EUR",ZA:"ZAR",ZM:"ZMW",ZW:"ZWL"},N=(t,e=navigator.language,r=m[e.slice(-2).toLocaleUpperCase()])=>u(t,e,"currency",{currency:r}),K="01/01/1970".replace(/\D/g,""),M=t=>{const e=t.replace(/\D/g,"");return e+K.slice(e.length)},P=t=>new Intl.DateTimeFormat(t).formatToParts(),S=t=>t instanceof Date&&!isNaN(t.valueOf()),g=t=>{let e="";return P(t).forEach(({type:a,value:o})=>{a==="month"||a==="day"?e+="dd":a==="year"?e+="dddd":a==="literal"&&(e+=o)}),e},f=(t,e)=>{var l;const r=P(e),a=(l=r.find(({type:E})=>E==="literal"))==null?void 0:l.value,o=t.split(a),{month:s,day:c,year:D}={[r[0].type]:o[0],[r[2].type]:o[1],[r[4].type]:o[2]},i=`${s}/${c}/${D}`;return new Date(i)},R=(t,e=navigator.language,r)=>new Intl.DateTimeFormat(e,r).format(t),O=(t,e=navigator.language,r)=>{if(!t)return t;const a=new Date(t);return S(a)?R(a,e,{dateStyle:"short",timeStyle:"short",...r}):t},p=(t,e=navigator.language,r)=>{if(!t)return t;const a=new Date(t);return S(a)?R(a,e,{dateStyle:"short",...r}):t},I=(t,e=navigator.language,r)=>{if(!t)return t;const a=new Date(t);return S(a)?R(a,e,{timeStyle:"short",...r}):t},y=(t,e=navigator.language)=>{const r=f(t,e);return S(r)?r.toISOString():""},b={d:{test:t=>/\d/.test(t),transform:t=>t},a:{test:t=>/[a-z]/i.test(t),transform:t=>t.toLowerCase()},A:{test:t=>/[a-z]/i.test(t),transform:t=>t.toUpperCase()},w:{test:t=>/\w/.test(t),transform:t=>t.toLowerCase()},W:{test:t=>/\w/.test(t),transform:t=>t.toUpperCase()}},U=(t,e)=>t&&(t=t.replace(/\W/gi,""),e?t.slice(0,e.replace(/\W/gi,"").length):t),d=(t,e)=>{if(!t)return"";if(!e)throw ReferenceError("Value or pattern not found.");if(!Array.isArray(e))throw ReferenceError("Pattern should be an array");e.sort((s,c)=>s.length-c.length);let r="";const a=U(t).length;for(let s=0;s<e.length;s++){const c=e[s];if(a<=U(c).length){r=c;break}}let o="";for(let s=U(t,r),c=U(r),D=r.length,i=0,l=0;i<D&&s[l];i++){const E=b[c[l]],B=r[i],h=s[l];if(E.test(h))/\W/.test(B)?o+=B:(o+=E.transform(h),l++);else break}return o},A=t=>{const e=t.replace(/\D/g,"");let r=0;return r=parseFloat(e),r},X=(t,e)=>{const r=new Intl.NumberFormat(e).formatToParts(1111.1);return T(t,r)},Z=(t,e=navigator.language,r=m[e.slice(-2)])=>{var D;const a=new Intl.NumberFormat(e,{style:"currency",currency:r}).formatToParts(1111.1),o=(D=a.find(({type:i})=>i==="currency"))==null?void 0:D.value,s=o?t.replace(o,""):t;return T(s,a)},T=(t,e)=>{var o,s;const r=(o=e.find(c=>c.type==="group"))==null?void 0:o.value,a=(s=e.find(c=>c.type==="decimal"))==null?void 0:s.value;return r&&(t=t.replace(r,"")),a&&(t=t.replace(a,".")),Number.isNaN(t)?NaN:parseFloat(t)},C=t=>{const e=A(t);return isNaN(e)?"":u(e)},F=t=>{const e=A(t)/100;return isNaN(e)?"":N(e)},G=(t,e=navigator.language)=>{if(!t)return t;const r=g(),a=M(t),o=d(a,[r]),s=f(o,e);if(!S(s))throw new Error("Invalid date");return d(t,[r])},L=(t,e)=>{var o,s;if(!t||typeof t!="object")throw Error("Element not found.");if(!e||!Array.isArray(e))throw ReferenceError("Pattern should be an array");const[r]=e.sort((c,D)=>c.length-D.length);let a;switch(r){case"currency":{t.placeholder=N(0),a=()=>{t.value=F(t.value)};break}case"number":{a=()=>{t.value=C(t.value)};break}case"date":{const c=g();t.minLength=t.maxLength=c.length,t.pattern=`.{${c.length},${c.length}}`,a=()=>{try{const D=G(t.value);t.value=D,t.defaultValue=D}catch{t.value=t.defaultValue}};break}default:t.minLength=r.length,t.maxLength=((o=e.at(-1))==null?void 0:o.length)||r.length,t.pattern=`.{${r.length},${((s=e.at(-1))==null?void 0:s.length)||r.length}}`,a=()=>{t.value=d(t.value,e)}}return t.value&&a(),t.addEventListener("input",a),()=>{t.removeEventListener("input",a)}},H=()=>{document.querySelectorAll("[data-mask]").forEach(e=>L(e,V(e.dataset.mask)))},V=t=>JSON.parse(t.replace(/'/g,'"'));n.currencyFormat=N,n.currencyUnformat=Z,n.date=f,n.dateTimeFormat=R,n.getComputedDate=M,n.getDatePattern=g,n.input=L,n.inputCurrency=F,n.inputDate=G,n.inputNumber=C,n.isValidDate=S,n.localeDate=p,n.localeDateTime=O,n.localeTime=I,n.mask=d,n.numberFormat=u,n.numberUnformat=X,n.prepareMaskInputs=H,n.unmask=U,n.unmaskDate=y,n.unmaskNumber=A,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=index.umd.js.map
