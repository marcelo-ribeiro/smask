(function(o,u){typeof exports=="object"&&typeof module!="undefined"?u(exports):typeof define=="function"&&define.amd?define(["exports"],u):(o=typeof globalThis!="undefined"?globalThis:o||self,u(o.smask={}))})(this,function(o){"use strict";const u=(t,e=navigator.language,r="decimal",n)=>(n={style:r,...n},new Intl.NumberFormat(e,n).format(t)),M={AD:"EUR",AE:"AED",AF:"AFN",AG:"XCD",AI:"XCD",AL:"ALL",AM:"AMD",AO:"AOA",AR:"ARS",AS:"USD",AT:"EUR",AU:"AUD",AW:"AWG",AX:"EUR",AZ:"AZN",BA:"BAM",BB:"BBD",BD:"BDT",BE:"EUR",BF:"XOF",BG:"BGN",BH:"BHD",BI:"BIF",BJ:"XOF",BL:"EUR",BM:"BMD",BN:"BND",BO:"BOB",BQ:"USD",BR:"BRL",BS:"BSD",BT:"BTN",BV:"NOK",BW:"BWP",BY:"BYN",BZ:"BZD",CA:"CAD",CC:"AUD",CD:"CDF",CF:"XAF",CG:"XAF",CH:"CHF",CI:"XOF",CK:"NZD",CL:"CLP",CM:"XAF",CN:"CNY",CO:"COP",CR:"CRC",CU:"CUP",CV:"CVE",CW:"ANG",CX:"AUD",CY:"EUR",CZ:"CZK",DE:"EUR",DJ:"DJF",DK:"DKK",DM:"XCD",DO:"DOP",DZ:"DZD",EC:"USD",EE:"EUR",EG:"EGP",EH:"MAD",ER:"ERN",ES:"EUR",ET:"ETB",FI:"EUR",FJ:"FJD",FK:"FKP",FM:"USD",FO:"DKK",FR:"EUR",GA:"XAF",GB:"GBP",GD:"XCD",GE:"GEL",GF:"EUR",GG:"GBP",GH:"GHS",GI:"GIP",GL:"DKK",GM:"GMD",GN:"GNF",GP:"EUR",GQ:"XAF",GR:"EUR",GS:"GBP",GT:"GTQ",GU:"USD",GW:"XOF",GY:"GYD",HK:"HKD",HM:"AUD",HN:"HNL",HR:"HRK",HT:"HTG",HU:"HUF",ID:"IDR",IE:"EUR",IL:"ILS",IM:"GBP",IN:"INR",IO:"USD",IQ:"IQD",IR:"IRR",IS:"ISK",IT:"EUR",JE:"GBP",JM:"JMD",JO:"JOD",JP:"JPY",KE:"KES",KG:"KGS",KH:"KHR",KI:"AUD",KM:"KMF",KN:"XCD",KP:"KPW",KR:"KRW",KW:"KWD",KY:"KYD",KZ:"KZT",LA:"LAK",LB:"LBP",LC:"XCD",LI:"CHF",LK:"LKR",LR:"LRD",LS:"LSL",LT:"EUR",LU:"EUR",LV:"EUR",LY:"LYD",MA:"MAD",MC:"EUR",MD:"MDL",ME:"EUR",MF:"EUR",MG:"MGA",MH:"USD",MK:"MKD",ML:"XOF",MM:"MMK",MN:"MNT",MO:"MOP",MP:"USD",MQ:"EUR",MR:"MRO",MS:"XCD",MT:"EUR",MU:"MUR",MV:"MVR",MW:"MWK",MX:"MXN",MY:"MYR",MZ:"MZN",NA:"NAD",NC:"XPF",NE:"XOF",NF:"AUD",NG:"NGN",NI:"NIO",NL:"EUR",NO:"NOK",NP:"NPR",NR:"AUD",NU:"NZD",NZ:"NZD",OM:"OMR",PA:"PAB",PE:"PEN",PF:"XPF",PG:"PGK",PH:"PHP",PK:"PKR",PL:"PLN",PM:"EUR",PN:"NZD",PR:"USD",PS:"ILS",PT:"EUR",PW:"USD",PY:"PYG",QA:"QAR",RE:"EUR",RO:"RON",RS:"RSD",RU:"RUB",RW:"RWF",SA:"SAR",SB:"SBD",SC:"SCR",SD:"SDG",SE:"SEK",SG:"SGD",SH:"SHP",SI:"EUR",SJ:"NOK",SK:"EUR",SL:"SLL",SM:"EUR",SN:"XOF",SO:"SOS",SR:"SRD",ST:"STD",SV:"SVC",SX:"ANG",SY:"SYP",SZ:"SZL",TC:"USD",TD:"XAF",TF:"EUR",TG:"XOF",TH:"THB",TJ:"TJS",TK:"NZD",TL:"USD",TM:"TMT",TN:"TND",TO:"TOP",TR:"TRY",TT:"TTD",TV:"AUD",TW:"TWD",TZ:"TZS",UA:"UAH",UG:"UGX",UM:"USD",US:"USD",UY:"UYU",UZ:"UZS",VA:"EUR",VC:"XCD",VE:"VEF",VG:"USD",VI:"USD",VN:"VND",VU:"VUV",WF:"XPF",WS:"WST",YE:"YER",YT:"EUR",ZA:"ZAR",ZM:"ZMW",ZW:"ZWL"},d=(t,e=navigator.language,r=M[e.slice(-2)])=>u(t,e,"currency",{currency:r}),p="01/01/1970".replace(/\D/g,""),m=t=>{const e=t.replace(/\D/g,"");return e+p.slice(e.length)},P=t=>new Intl.DateTimeFormat(t).formatToParts(),i=t=>t instanceof Date&&!isNaN(t.valueOf()),g=t=>{let e="";return P(t).forEach(({type:n,value:a})=>{n==="month"||n==="day"?e+="dd":n==="year"?e+="dddd":n==="literal"&&(e+=a)}),e},A=(t,e)=>{var S;const r=P(e),n=(S=r.find(({type:R})=>R==="literal"))==null?void 0:S.value,a=t.split(n),{month:s,day:c,year:D}={[r[0].type]:a[0],[r[2].type]:a[1],[r[4].type]:a[2]},l=`${s}/${c}/${D}`;return new Date(l)},E=(t,e=navigator.language,r)=>new Intl.DateTimeFormat(e,r).format(t),O=(t,e=navigator.language,r)=>{if(!t)return t;const n=new Date(t);return i(n)?E(n,e,{dateStyle:"short",timeStyle:"short",...r}):t},I=(t,e=navigator.language,r)=>{if(!t)return t;const n=new Date(t);return i(n)?E(n,e,{dateStyle:"short",...r}):t},y=(t,e=navigator.language,r)=>{if(!t)return t;const n=new Date(t);return i(n)?E(n,e,{timeStyle:"short",...r}):t},X=(t,e=navigator.language)=>{const r=A(t,e);return i(r)?r.toISOString():""},b={d:{test:t=>/\d/.test(t),transform:t=>t},a:{test:t=>/[a-z]/i.test(t),transform:t=>t.toLowerCase()},A:{test:t=>/[a-z]/i.test(t),transform:t=>t.toUpperCase()},w:{test:t=>/\w/.test(t),transform:t=>t.toLowerCase()},W:{test:t=>/\w/.test(t),transform:t=>t.toUpperCase()}},U=(t,e)=>t&&(t=t.replace(/\W/gi,""),e?t.slice(0,e.replace(/\W/gi,"").length):t),N=(t,e)=>{if(!t)return"";if(!e)throw ReferenceError("Value or pattern not found.");if(!Array.isArray(e))throw ReferenceError("Pattern should be an array");const[r,n]=e.sort((c,D)=>c.length-D.length),a=U(t).length<=U(r).length?r:n;let s="";for(let c=U(t,a),D=U(a),l=a.length,S=0,R=0;S<l&&c[R];S++){const L=b[D[R]],K=a[S],h=c[R];if(L.test(h))/\W/.test(K)?s+=K:(s+=L.transform(h),R++);else break}return s},f=t=>{const e=t.replace(/\D/g,"");let r=0;return r=parseFloat(e),r},Z=(t,e)=>{const r=new Intl.NumberFormat(e).formatToParts(1111.1);return T(t,r)},H=(t,e=navigator.language,r=M[e.slice(-2)])=>{var D;const n=new Intl.NumberFormat(e,{style:"currency",currency:r}).formatToParts(1111.1),a=(D=n.find(({type:l})=>l==="currency"))==null?void 0:D.value,s=a?t.replace(a,""):t;return T(s,n)},T=(t,e)=>{var a,s;const r=(a=e.find(c=>c.type==="group"))==null?void 0:a.value,n=(s=e.find(c=>c.type==="decimal"))==null?void 0:s.value;return r&&(t=t.replace(r,"")),n&&(t=t.replace(n,".")),Number.isNaN(t)?NaN:parseFloat(t)},C=t=>{const e=f(t);return isNaN(e)?"":u(e)},F=t=>{const e=f(t)/100;return isNaN(e)?"":d(e)},G=(t,e=navigator.language)=>{if(!t)return t;const r=g(),n=m(t),a=N(n,[r]),s=A(a,e);if(!i(s))throw new Error("Invalid date");return N(t,[r])},B=(t,e)=>{if(!t||typeof t!="object")throw Error("Element not found.");if(!e||!Array.isArray(e))throw ReferenceError("Pattern should be an array");const[r,n]=e.sort((s,c)=>s.length-c.length);let a;switch(r){case"currency":{t.placeholder=d(0),a=()=>{t.value=F(t.value)};break}case"number":{a=()=>{t.value=C(t.value)};break}case"date":{const s=g();t.minLength=t.maxLength=s.length,t.pattern=`.{${s.length},${s.length}}`,a=()=>{try{const c=G(t.value);t.value=c,t.defaultValue=c}catch{t.value=t.defaultValue}};break}default:t.minLength=r.length,t.maxLength=(n==null?void 0:n.length)||r.length,t.pattern=`.{${r.length},${(n==null?void 0:n.length)||r.length}}`,a=()=>{t.value=N(t.value,e)}}return t.value&&a(),t.addEventListener("input",a),()=>{t.removeEventListener("input",a)}},V=()=>{document.querySelectorAll("[data-mask]").forEach(e=>B(e,W(e.dataset.mask)))},W=t=>JSON.parse(t.replace(/'/g,'"'));o.currencyFormat=d,o.currencyUnformat=H,o.date=A,o.dateTimeFormat=E,o.getComputedDate=m,o.getDatePattern=g,o.input=B,o.inputCurrency=F,o.inputDate=G,o.inputNumber=C,o.isValidDate=i,o.localeDate=I,o.localeDateTime=O,o.localeTime=y,o.mask=N,o.numberFormat=u,o.numberUnformat=Z,o.prepareMaskInputs=V,o.unmask=U,o.unmaskDate=X,o.unmaskNumber=f,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=index.umd.js.map
